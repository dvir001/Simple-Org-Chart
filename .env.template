# Azure AD Configuration
# Enter your Azure configuration details below then rename this file to '.env'

# Your Azure AD Tenant ID
AZURE_TENANT_ID=your-tenant-id-here

# Your Azure AD App Registration Client ID
AZURE_CLIENT_ID=your-client-id-here

# Your Azure AD App Registration Client Secret
AZURE_CLIENT_SECRET=your-client-secret-here

# Security Configuration
ADMIN_PASSWORD=your-admin-password-here
SECRET_KEY=generate-a-64-character-random-string

# Application Configuration
# Optional application port (defaults to 5000)
APP_PORT=5000

# Gunicorn worker timeout in seconds (default: 600 = 10 minutes)
# Increase if PNG screenshot generation times out on large org charts
GUNICORN_TIMEOUT=600

# Base URL for the application (required for PNG email attachments)
# Docker: Use http://localhost (port 80 inside container) or your external URL
# Non-Docker: Use http://localhost:5000 or http://127.0.0.1:5000
# IMPORTANT: This is the URL accessible FROM INSIDE the container, not external port mapping
APP_BASE_URL=http://localhost

# Optional comma-separated list of origins allowed to call the API (e.g. intranet portals)
CORS_ALLOWED_ORIGINS=https://intranet.yourcompany.com,https://another-app.yourcompany.com

# ─────────────────────────────────────────────────────────────────────────────
# Optional settings (uncomment and modify to override defaults)
# ─────────────────────────────────────────────────────────────────────────────

# Startup behavior: "auto" (refresh if no cache), "true" (always refresh), "false" (never)
# RUN_INITIAL_UPDATE=auto

# Session backend type (default: filesystem)
# SESSION_TYPE=filesystem

# Maximum upload size in MB for logos and favicons (default: 5)
# MAX_FILE_SIZE_MB=5

# Allowed image extensions for logo uploads (default: png,jpg,jpeg)
# ALLOWED_LOGO_EXTENSIONS=png,jpg,jpeg

# Allowed image extensions for favicon uploads (default: ico,png,jpg,jpeg)
# ALLOWED_FAVICON_EXTENSIONS=ico,png,jpg,jpeg

# Browser cache duration in seconds for profile photos (default: 3600 = 1 hour)
# PHOTO_CACHE_SECONDS=3600

# File cache duration in seconds for profile photos on disk (default: 86400 = 24 hours)
# PHOTO_CACHE_FILE_SECONDS=86400

# ─────────────────────────────────────────────────────────────────────────────
# Rate Limits (format: "N per period", comma-separated for multiple limits)
# ─────────────────────────────────────────────────────────────────────────────

# Default rate limits for all endpoints
# RATE_LIMIT_DEFAULT=200 per day,50 per hour

# Login endpoint rate limit
# RATE_LIMIT_LOGIN=5 per minute

# Photo endpoint rate limit (higher for org chart loading)
# RATE_LIMIT_PHOTO=500 per hour

# Settings endpoints rate limit
# RATE_LIMIT_SETTINGS=20 per minute

# File upload endpoints rate limit
# RATE_LIMIT_UPLOAD=5 per minute

# Data refresh endpoints rate limit
# RATE_LIMIT_REFRESH=1 per minute

# ─────────────────────────────────────────────────────────────────────────────
# Security Headers (advanced - modify only if you understand the implications)
# ─────────────────────────────────────────────────────────────────────────────

# X-Content-Type-Options header
# SECURITY_HEADER_CONTENT_TYPE_OPTIONS=nosniff

# X-Frame-Options header
# SECURITY_HEADER_FRAME_OPTIONS=DENY

# X-XSS-Protection header
# SECURITY_HEADER_XSS_PROTECTION=1; mode=block

# Strict-Transport-Security header
# SECURITY_HEADER_HSTS=max-age=31536000; includeSubDomains

# Content-Security-Policy header
# SECURITY_HEADER_CSP=default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline'; img-src 'self' data:;

# ─────────────────────────────────────────────────────────────────────────────
# Microsoft Graph API Endpoints (rarely need changing)
# ─────────────────────────────────────────────────────────────────────────────

# Graph API v1.0 endpoint
# GRAPH_API_ENDPOINT=https://graph.microsoft.com/v1.0

# Graph API beta endpoint
# GRAPH_API_BETA_ENDPOINT=https://graph.microsoft.com/beta

# ─────────────────────────────────────────────────────────────────────────────
# SMTP Email Configuration (for automated email reports)
# ─────────────────────────────────────────────────────────────────────────────

# SMTP server hostname (e.g., smtp.gmail.com, smtp.office365.com)
# SMTP_SERVER=smtp.gmail.com

# SMTP server port (common: 587 for STARTTLS, 465 for SSL/TLS, 25 for plain)
# SMTP_PORT=587

# SMTP username (often your email address)
# SMTP_USERNAME=your-email@example.com

# SMTP password or app-specific password
# SMTP_PASSWORD=your-smtp-password

# From address for sent emails (must be authorized by SMTP server)
# SMTP_FROM_ADDRESS=noreply@yourcompany.com

# Encryption protocol: TLS (STARTTLS for port 587), SSL (SSL/TLS for port 465), or None
# SMTP_ENCRYPTION=TLS
